# 坏节点攻击功能使用指南

## 概述

本系统为坏节点提供了专门的攻击控制区域，允许坏节点执行各种恶意行为来测试PBFT共识算法的容错能力。

## 坏节点识别

系统会自动识别坏节点：
- 当配置了故障节点数量时，最后几个节点会被标记为坏节点
- 如果启用了恶意提议者，节点0也会被标记为坏节点
- 坏节点在界面上会显示特殊的标识和标签

## 攻击模式

### 1. 消息篡改 (Tamper)
**功能**: 修改发送的消息值
**策略选项**:
- **随机篡改**: 随机将消息值改为0或1
- **发送相反值**: 将消息值改为相反的值
- **固定值**: 总是发送固定值0

**使用场景**: 测试系统对消息篡改的检测和容错能力

### 2. 选择性发送 (Selective)
**功能**: 随机丢弃部分消息，不发送给其他节点
**参数**: 发送概率 (0-100%)
**效果**: 强度越高，发送概率越低

**使用场景**: 模拟网络丢包或节点故障

### 3. 延迟发送 (Delay)
**功能**: 故意延迟发送消息
**参数**: 最小延迟和最大延迟时间
**效果**: 强度越高，延迟时间越长

**使用场景**: 模拟网络延迟，测试系统的超时处理

### 4. 冲突消息 (Conflict)
**功能**: 发送与其他节点冲突的消息值
**策略选项**:
- **总是冲突**: 总是发送冲突值
- **有时冲突**: 根据强度概率发送冲突值
- **智能冲突**: 基于其他节点的消息智能选择冲突值

**使用场景**: 测试系统对拜占庭故障的处理能力

### 5. 组合攻击 (Combined)
**功能**: 同时使用多种攻击策略
**选项**: 可选择多种攻击方式组合使用
**效果**: 每种攻击的强度会适当降低以避免过度攻击

**使用场景**: 模拟复杂的恶意行为

## 使用方法

### 1. 启动攻击模式
1. 确保你是坏节点（查看节点标题是否有🦹标识）
2. 在"恶意行为控制"区域选择攻击模式
3. 调整攻击参数（强度、策略等）
4. 点击"启动攻击"按钮

### 2. 监控攻击效果
- 查看"攻击统计"区域了解攻击效果
- 观察其他节点的反应
- 查看控制台日志了解详细攻击信息

### 3. 停止攻击
- 点击"停止攻击"按钮恢复正常行为

## 攻击强度说明

攻击强度范围：1-10
- **1-3**: 轻度攻击，对系统影响较小
- **4-6**: 中度攻击，可能影响共识进程
- **7-9**: 重度攻击，可能导致共识失败
- **10**: 极强攻击，几乎肯定会导致共识失败

## 最佳实践

### 教学演示
1. 使用轻度攻击（强度1-3）展示基本概念
2. 逐步增加强度观察系统反应
3. 使用组合攻击展示复杂场景

### 研究测试
1. 记录攻击前后的系统状态
2. 观察不同攻击策略的效果
3. 测试系统的容错极限

### 安全评估
1. 尝试各种攻击组合
2. 测试边界条件
3. 评估系统的安全性

## 注意事项

⚠️ **重要提醒**:
- 攻击功能仅用于教学和研究目的
- 不要在生产环境中使用
- 攻击可能影响共识达成
- 建议在测试环境中使用

## 故障排除

### 攻击不生效
1. 确认你是坏节点
2. 检查攻击模式是否正确选择
3. 确认攻击已启动
4. 查看控制台日志

### 系统无响应
1. 降低攻击强度
2. 停止攻击模式
3. 刷新页面重新连接

### 共识异常
1. 这是预期的行为
2. 观察系统如何处理异常
3. 记录异常情况用于分析

## 技术实现

攻击功能通过以下方式实现：
- 前端：Vue 3响应式数据管理
- 攻击策略：JavaScript函数实现
- 消息处理：在发送前应用攻击策略
- 统计跟踪：实时记录攻击效果

## 扩展功能

未来可能添加的功能：
- 更多攻击策略
- 攻击历史记录
- 影响评估报告
- 自动化攻击脚本 